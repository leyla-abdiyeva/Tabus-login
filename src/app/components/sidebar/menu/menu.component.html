<mat-sidenav-container class="sidenav-container">
  <mat-sidenav mode="side" opened class="sidenav">
    <div class="menu-title">MENU</div>

    <ng-container *ngIf="menuLoaded; else loading">
      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
        <!-- Leaf Node -->
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
          <div class="menu-item" (click)="onItemClick(node)">
            <span class="icon">ğŸ </span>
            <span class="label">{{ node.name }}</span>
          </div>
        </mat-tree-node>

        <!-- Expandable Node -->
        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
          <div class="menu-item" (click)="onItemClick(node)">
            <span class="icon">ğŸ“</span>
            <span class="label">{{ node.name }}</span>
            <span class="arrow">{{ treeControl.isExpanded(node) ? 'â–¼' : 'â–¶' }}</span>
          </div>
          <div *ngIf="treeControl.isExpanded(node)">
            <ng-container matTreeNodeOutlet></ng-container>
          </div>
        </mat-nested-tree-node>
      </mat-tree>
    </ng-container>

    <ng-template #loading>
      <div class="loading">Loading menu...</div>
    </ng-template>
  </mat-sidenav>
</mat-sidenav-container>
